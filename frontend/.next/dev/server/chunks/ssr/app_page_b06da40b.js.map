{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/Graphnous/frontend/app/page.js"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport Link from 'next/link';\r\n\r\nexport default function HomePage() {\r\n    const [stats, setStats] = useState(null);\r\n    const [reviewQueue, setReviewQueue] = useState([]);\r\n    const [activeDomain, setActiveDomain] = useState('All');\r\n\r\n    useEffect(() => {\r\n        fetch('/api/drift/stats')\r\n            .then(r => r.json())\r\n            .then(setStats)\r\n            .catch(() => { });\r\n\r\n        fetch('/api/drift/review-queue')\r\n            .then(r => r.json())\r\n            .then(setReviewQueue)\r\n            .catch(() => { });\r\n    }, []);\r\n\r\n    const domains = ['All', 'IT Governance', 'Security', 'Compliance', 'Engineering', 'Operations'];\r\n\r\n    const filteredRecent = stats?.recent_decisions?.filter(\r\n        d => activeDomain === 'All' || d.domain === activeDomain\r\n    ) || [];\r\n\r\n    const filteredQueue = reviewQueue.filter(\r\n        item => activeDomain === 'All' || item.decision_question?.toLowerCase().includes(activeDomain.toLowerCase())\r\n    );\r\n\r\n    return (\r\n        <div className=\"animate-fade-in\">\r\n            <div className=\"page-header\">\r\n                <h2>Cognitive State</h2>\r\n                <p>What should we be thinking about right now?</p>\r\n            </div>\r\n\r\n            {/* Domain Tabs */}\r\n            <div className=\"domain-tabs\">\r\n                {domains.map(d => (\r\n                    <button\r\n                        key={d}\r\n                        className={`domain-tab ${activeDomain === d ? 'active' : ''}`}\r\n                        onClick={() => setActiveDomain(d)}\r\n                    >\r\n                        {d}\r\n                    </button>\r\n                ))}\r\n            </div>\r\n\r\n            {/* Stats Grid */}\r\n            <div className=\"stat-grid stagger\">\r\n                <div className=\"card stat-card accent-primary animate-fade-in\">\r\n                    <div className=\"stat-label\">Total Decisions</div>\r\n                    <div className=\"stat-value\">{stats?.total_decisions ?? '‚Äî'}</div>\r\n                    <div className=\"stat-sub\">Active decisions tracked</div>\r\n                </div>\r\n                <div className=\"card stat-card accent-emerald animate-fade-in\">\r\n                    <div className=\"stat-label\">Valid Assumptions</div>\r\n                    <div className=\"stat-value\">{stats?.valid_assumptions ?? '‚Äî'}</div>\r\n                    <div className=\"stat-sub\">Within validity window</div>\r\n                </div>\r\n                <div className=\"card stat-card accent-amber animate-fade-in\">\r\n                    <div className=\"stat-label\">Aging Assumptions</div>\r\n                    <div className=\"stat-value\">{stats?.aging_assumptions ?? '‚Äî'}</div>\r\n                    <div className=\"stat-sub\">Expiring within 30 days</div>\r\n                </div>\r\n                <div className=\"card stat-card accent-rose animate-fade-in\">\r\n                    <div className=\"stat-label\">Broken / Expired</div>\r\n                    <div className=\"stat-value\">{stats?.broken_assumptions ?? '‚Äî'}</div>\r\n                    <div className=\"stat-sub\">Immediate attention needed</div>\r\n                </div>\r\n                <div className=\"card stat-card accent-teal animate-fade-in\">\r\n                    <div className=\"stat-label\">Review Queue</div>\r\n                    <div className=\"stat-value\">{stats?.review_queue_count ?? '‚Äî'}</div>\r\n                    <div className=\"stat-sub\">Items needing review</div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Two-column layout */}\r\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: 'var(--space-lg)' }}>\r\n                {/* Review Queue */}\r\n                <div className=\"card\" style={{ padding: 0, overflow: 'hidden' }}>\r\n                    <div style={{\r\n                        padding: 'var(--space-md) var(--space-lg)',\r\n                        borderBottom: '1px solid var(--border-subtle)',\r\n                        display: 'flex',\r\n                        justifyContent: 'space-between',\r\n                        alignItems: 'center'\r\n                    }}>\r\n                        <h3 style={{ fontSize: '15px', fontWeight: 600 }}>üîî Review Queue</h3>\r\n                        <Link href=\"/drift\" className=\"btn btn-ghost btn-sm\">View all ‚Üí</Link>\r\n                    </div>\r\n                    <div className=\"stagger\">\r\n                        {filteredQueue.length === 0 ? (\r\n                            <div className=\"empty-state\" style={{ padding: 'var(--space-xl)' }}>\r\n                                <div className=\"empty-state-icon\">‚úì</div>\r\n                                <h3>All clear</h3>\r\n                                <p>No items need review right now</p>\r\n                            </div>\r\n                        ) : (\r\n                            filteredQueue.slice(0, 5).map((item, i) => (\r\n                                <div key={i} className=\"review-card animate-fade-in\">\r\n                                    <div className={`review-severity-bar ${item.severity}`} />\r\n                                    <div className=\"review-content\">\r\n                                        <Link href={`/decisions/${item.decision_id}`} className=\"review-decision-link\">\r\n                                            {item.decision_id}\r\n                                        </Link>\r\n                                        <div className=\"review-reason\">{item.reason}</div>\r\n                                        <div className=\"review-actions\">\r\n                                            <span className={`badge badge-${item.severity === 'critical' ? 'broken' : item.severity === 'warning' ? 'aging' : 'info'}`}>\r\n                                                {item.severity}\r\n                                            </span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            ))\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Recent Decisions */}\r\n                <div className=\"card\" style={{ padding: 0, overflow: 'hidden' }}>\r\n                    <div style={{\r\n                        padding: 'var(--space-md) var(--space-lg)',\r\n                        borderBottom: '1px solid var(--border-subtle)',\r\n                        display: 'flex',\r\n                        justifyContent: 'space-between',\r\n                        alignItems: 'center'\r\n                    }}>\r\n                        <h3 style={{ fontSize: '15px', fontWeight: 600 }}>üìã Recent Decisions</h3>\r\n                        <Link href=\"/decisions\" className=\"btn btn-ghost btn-sm\">View all ‚Üí</Link>\r\n                    </div>\r\n                    <div className=\"stagger\">\r\n                        {filteredRecent.length === 0 ? (\r\n                            <div className=\"empty-state\" style={{ padding: 'var(--space-xl)' }}>\r\n                                <div className=\"empty-state-icon\">üìù</div>\r\n                                <h3>No decisions yet</h3>\r\n                                <p>Capture your first decision</p>\r\n                            </div>\r\n                        ) : (\r\n                            filteredRecent.map((dec) => (\r\n                                <Link\r\n                                    key={dec.id}\r\n                                    href={`/decisions/${dec.id}`}\r\n                                    style={{ display: 'block', textDecoration: 'none', color: 'inherit' }}\r\n                                >\r\n                                    <div className=\"feed-item animate-fade-in\" style={{ padding: 'var(--space-md) var(--space-lg)' }}>\r\n                                        <div className=\"feed-dot\" style={{ background: 'var(--accent-primary)' }} />\r\n                                        <div style={{ flex: 1, minWidth: 0 }}>\r\n                                            <div style={{ fontSize: '13px', fontWeight: 600, marginBottom: '4px' }}>\r\n                                                {dec.question}\r\n                                            </div>\r\n                                            <div className=\"decision-card-meta\">\r\n                                                <span>{dec.id}</span>\r\n                                                <span>¬∑</span>\r\n                                                <span>{dec.owner}</span>\r\n                                                <span>¬∑</span>\r\n                                                <span>{dec.decided_on}</span>\r\n                                                <span className={`badge badge-active`}>{(dec.confidence * 100).toFixed(0)}% confidence</span>\r\n                                            </div>\r\n                                            <div className=\"decision-card-tags\">\r\n                                                {dec.context_tags?.slice(0, 3).map(tag => (\r\n                                                    <span key={tag} className=\"tag\">{tag}</span>\r\n                                                ))}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </Link>\r\n                            ))\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}